<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Account Assignment Overrides</title>
    <link rel="stylesheet" href="css/tw.css" />
    <script src="js/overrides.js" defer></script>
</head>

<body class="bg-gray-100 min-h-screen">

<header class="bg-white shadow">
    <div class="max-w-5xl mx-auto px-4 py-4 flex justify-between items-center">
      <h1 class="text-xl font-semibold">Assignment Overrides</h1>
      <div class="flex items-center space-x-3">
        <span id="userLabel" class="text-sm text-gray-600"></span>
        <button id="logoutBtn" class="text-sm text-red-600">Logout</button>
      </div>
    </div>
</header>

<main class="max-w-5xl mx-auto px-4 py-6">

    <nav class="mb-4 flex space-x-4 text-sm">
      <a href="dashboard.html" class="hover:text-blue-600">Dashboard</a>
      <a href="overrides.html" class="font-semibold text-blue-600">Overrides</a>
    </nav>

    <div class="bg-white rounded shadow p-4">

      <h2 class="text-lg font-semibold mb-4">Search Assignments</h2>

      <div class="flex gap-3 mb-6">
        <input id="searchAgentId" type="number" placeholder="Enter Agent ID"
               class="px-3 py-1 border rounded w-40" />

        <button onclick="searchAssignments()" 
            class="px-4 py-1 bg-blue-600 text-white rounded hover:bg-blue-700">
            Search
        </button>
      </div>

      <div id="resultsWrap" class="hidden">

        <div class="flex justify-between items-center mb-4">
          <h3 class="text-md font-semibold">
            Assignments for Agent <span id="searchedAgent" class="text-blue-600"></span>
          </h3>

          <div class="flex gap-3">
            <input id="bulkNewAgentId" type="number" placeholder="New Agent ID"
                  class="px-3 py-1 border rounded w-40" />

            <button onclick="bulkOverride()" 
              class="px-4 py-1 bg-red-600 text-white rounded hover:bg-red-700">
              Override All
            </button>
          </div>
        </div>

        <table class="min-w-full text-sm border-collapse border">
          <thead>
            <tr class="bg-gray-200 border-b">
              <th class="py-2 px-2 border">Receivable ID</th>
              <th class="py-2 px-2 border">DPD</th>
              <th class="py-2 px-2 border">Status</th>
              <th class="py-2 px-2 border">Retention End</th>
              <th class="py-2 px-2 border text-center">Override</th>
            </tr>
          </thead>
          <tbody id="assignmentRows"></tbody>
        </table>

      </div>

    </div>
</main>

</body>
</html>
